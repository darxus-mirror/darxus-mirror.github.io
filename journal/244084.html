<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
   <meta http-equiv="X-UA-Compatible" content="IE=7"/>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel='stylesheet' href='http://l-stat.livejournal.com/ad_base.css' type='text/css' />
<link rel="meta" type="application/rdf+xml" title="FOAF" href="http://darxus.livejournal.com/data/foaf" />
<meta name="foaf:maker" content="foaf:mbox_sha1sum '107c1745aac3c319c0e1588eb400be77055f48e8'" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script>
// don't crawl this.  read http://www.livejournal.com/developer/exporting.bml
var LJ_cmtinfo = {"1132404":{"rc":[1132660],"u":"feng_huang","parent":null,"full":1},"canAdmin":0,"1132660":{"rc":[1132916],"u":"feng_huang","parent":1132404,"full":1},"1132916":{"rc":[],"u":"darxus","parent":1132660,"full":1},"journal":"darxus","form_auth":"c0:1279209600:3105:86400:NZPKrhj90H-0-xIYdOs526VV711z:da23f6752b61a4b99a7fdbabfa1e721b","remote":null}
</script>
        <script type="text/javascript">
            Site = window.Site || {};

            (function(){
                var p = {"siteroot":"http://www.livejournal.com","currentJournalBase":"http://darxus.livejournal.com","inbox_update_poll":0,"currentJournal":"darxus","remote_can_track_threads":null,"statprefix":"http://l-stat.livejournal.com","ctx_popup":1,"media_embed_enabled":1,"server_time":1279212705,"has_remote":0,"remote_is_suspended":0,"imgprefix":"http://l-stat.livejournal.com/img","esn_async":1}, i;
                for (i in p) Site[i] = p[i];
            })();
       </script>
    <script type="text/javascript" src="http://l-stat.livejournal.com/js/??jquery.js,jquery_fn.js,basic.js,livejournal.js,esn.js,ippu.js,lj_ippu.js,ljwidget.js,ljwidget_ippu.js,journal.js,hourglass.js,md5.js,login.js,contextualhover.js,livejournal-local.js,thread_expander.js,journal.js,quickreply.js?v=1277844792"></script>
<script type="text/javascript" src="http://l-stat.livejournal.com/js/??commentmanage.js?v=1268768846"></script>
<link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.com/??lj_base.css,esn.css,contextualhover.css?v=1277844792" />
<!--[if IE]><link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.com/??ie.css?v=1268859548" /><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="http://l-stat.livejournal.com/??interstitial_banner_us.css?v=1263499801" /><![endif]-->
<script type="text/javascript" src="http://w.sharethis.com/button/sharethis.js#publisher=1483b796-4406-4000-98db-019c32f6059e&amp;type=website&amp;embeds=true&amp;post_services=livejournal%2Cfacebook%2Ctwitter%2Cmyspace%2Cdigg%2Cdelicious%2Clinkedin%2Cfriendfeed%2Cwordpress%2Cblogger%2Cgoogle_bmarks%2Ctechnorati&amp;onmouseover=false"></script><link rel="stylesheet" href="http://darxus.livejournal.com/res/18152266/stylesheet?1277845271" type="text/css" />
<title>Darxus - Upgrading Ubuntu from Hardy to Intrepid completely broke my X config with my nVidia GeForce FX 5500</title>

</head>

<body class="page_entry">

<div id="shadowhack1">
<div id="shadowhack2">

<div id="pagecontainer">

<div id="title">
<h1>Darxus</h1><div id="journal_subtitle">Upgrading Ubuntu from Hardy to Intrepid completely broke my X config with my nVidia GeForce FX 5500</div>
</div>

<div id="paraphernalia">
<div class="pbox" id="journalinfo"><h2>Darxus</h2><div class="pboxcontent">
<div id="journalinfouserpic"><img src="http://l-userpic.livejournal.com/93571119/874250" title="" alt="2009-09-29"height="100" width="100"  /></div>
<div class="journallinkbar">     <a href="http://www.livejournal.com/todo/?user=darxus"><img border='0' width="24" height="24" alt="darxus&#39;s to-do list" title="darxus&#39;s to-do list" src="http://l-stat.livejournal.com/img/btn_todo.gif"  /></a>  <a href="http://www.livejournal.com/tools/memories.bml?user=darxus"><img border='0' width="24" height="24" alt="darxus&#39;s memories" title="darxus&#39;s memories" src="http://l-stat.livejournal.com/img/btn_memories.gif"  /></a>  <a href="http://www.livejournal.com/tools/tellafriend.bml?user=darxus"><img border='0' width="24" height="24" alt="Tell a friend about darxus" title="Tell a friend about darxus" src="http://l-stat.livejournal.com/img/btn_tellfriend.gif"  /></a>  <a href="http://www.livejournal.com/tools/search.bml?user=darxus"><img border='0' width="24" height="24" alt="Search darxus" title="Search darxus" src="http://l-stat.livejournal.com/img/btn_search.gif"  /></a>  <a href="http://www.livejournal.com/friends/nudge.bml?user=darxus"><img border='0' width="24" height="24" alt="Nudge darxus" title="Nudge darxus" src="http://l-stat.livejournal.com/img/btn_nudge.gif"  /></a> </div></div></div>
<div class="pbox" id="viewsel"><h2>View</h2><div class="pboxcontent">
<ul>
<li><a href="http://darxus.livejournal.com/">Recent Entries</a></li>
<li><a href="http://darxus.livejournal.com/calendar">Archive</a></li>
<li><a href="http://darxus.livejournal.com/friends">Friends</a></li>
<li><a href="http://darxus.livejournal.com/profile">User Info</a></li>
</ul>
</div></div>

</div>

<div id="main">
<div class="entry"><div class="entryheader">
<h3 class="entrysubject">Upgrading Ubuntu from Hardy to Intrepid completely broke my X config with my nVidia GeForce FX 5500</h3><div class="entryposter"><span class='ljuser_darxus' style='white-space:nowrap;'><a href='http://www.livejournal.com/userinfo.bml?user=darxus'><img src='http://l-stat.livejournal.com/img/userinfo.gif' alt='[info]' width='17' height='17' style='vertical-align:bottom;border:0;' /></a><a href='http://www.livejournal.com/users/darxus/'><b>darxus</b></a></span></div><div class="entrytimestamp"><span class="entrytimestampdate">8/3/09</span>
    <span class="entrytimestamptime">07:05 pm</span></div><div class="entrylinkbarpre"><a href="http://www.livejournal.com/go.bml?journal=darxus&amp;itemid=244084&amp;dir=prev"><img border='0' width="24" height="24" alt="Previous Entry" title="Previous Entry" src="http://l-stat.livejournal.com/img/btn_prev.gif"  /></a>      <a href="http://www.livejournal.com/tools/memadd.bml?journal=darxus&amp;itemid=244084"><img border='0' width="24" height="24" alt="Add to Memories" title="Add to Memories" src="http://l-stat.livejournal.com/img/btn_memories.gif"  /></a>  <a href="244084.html#"><img border='0' width="24" height="24" alt="Share this!" title="Share this!" src="http://l-stat.livejournal.com/img/btn_sharethis.gif"  /></a> <script type="text/javascript">
            var stLink = jQuery('a:last')[0];
            stLink.href = 'javascript:void(0)';
            SHARETHIS_post = SHARETHIS.addEntry({url:'http://darxus.livejournal.com/244084.html', title: 'Upgrading Ubuntu from Hardy to Intrepid completely broke my X config with my nVidia GeForce FX 5500'}, {button: false});
            SHARETHIS_post.attachButton(stLink);
            SHARETHIS_ary.push(SHARETHIS_post);
            </script>       <a href="http://www.livejournal.com/go.bml?journal=darxus&amp;itemid=244084&amp;dir=next"><img border='0' width="24" height="24" alt="Next Entry" title="Next Entry" src="http://l-stat.livejournal.com/img/btn_next.gif"  /></a></div>
<div class="entryuserpic"><img src="http://l-userpic.livejournal.com/93571119/874250" title="" alt="2009-09-29"height="100" width="100"  /></div></div>

<div class="entrycontent">I think all that was really necessary was:  aptitude install xserver-xorg-video-nv<br /><br /><a name="cutid1"></a><br />su<br />cd /etc/X11<br />mv xorg.conf xorg.conf.bak # note that's a "mv", not a cp.<br />aptitude install xserver-xorg-video-nv # the free, non-proprietary drivers<br />dpkg-reconfigure xserver-xorg # accept defaults<br /><br />Then I added the following lines to the xorg.conf:<br /><br />In the "Device" Section:<br /><br />        Driver          "nv"<br />        Option          "rotate"        "CCW"<br /><br />In the "Screen" Section:<br /><br />        SubSection "Display"<br />                Modes           "1920x1200" "1680x1680" "1600x1200" "1280x1024" "1152x864" "1024x768" "800x600" "720x400" "640x480"<br />        EndSubSection<br /><br /><br />You probably don't want the "rotate" option (widescreen 24" monitor rotated 90&deg; = awesome for programming).  You also are likely to not need the Display Modes.  <br /><br /><br />Before the upgrade, in Hardy, I was using the free "nv" driver, instead of the proprietary "nvidia" driver, because that was the only way I found to rotate the display.  I think.<br /><br />The upgrade not only made X not start at all, with a "Fatal server error: no screens found.", it also made the System / Preferences / Screen Resolution thing stop working with <i>both</i> types of drivers.  <br /><br />And the proprietary drivers are really buggy, the screen keeps winking off, etc..<br /><br />If you want the proprietary, 3D accelerated hardware drivers, just do System / Administration / Hardware drivers, and let the magic do its thing.  <br /><br />Update 8/12/09:  This video card really sucks with rotation.  glxgears -fullscreen (1200x1920) is about 4 frames per second with any of the three available drivers, opensource nv, or closed source nvidia v 173 or 96. <br /><br />$ lspci | grep -i vga<br />01:00.0 VGA compatible controller: nVidia Corporation NV34 [GeForce FX 5500] (rev a1)<br /><a name='cutid1-end'></a></div>

<div class="entryfooter">

<ul class="entrymeta">
<li><span class="entrymetacaption">Tags:</span> <div class='ljtags'><a rel='tag' href='http://darxus.livejournal.com/tag/linux'>linux</a></div></li>
</ul>

<div class="entrylinkbarpost"><a href="http://www.livejournal.com/go.bml?journal=darxus&amp;itemid=244084&amp;dir=prev"><img border='0' width="24" height="24" alt="Previous Entry" title="Previous Entry" src="http://l-stat.livejournal.com/img/btn_prev.gif"  /></a>      <a href="http://www.livejournal.com/tools/memadd.bml?journal=darxus&amp;itemid=244084"><img border='0' width="24" height="24" alt="Add to Memories" title="Add to Memories" src="http://l-stat.livejournal.com/img/btn_memories.gif"  /></a>  <a href="244084.html#"><img border='0' width="24" height="24" alt="Share this!" title="Share this!" src="http://l-stat.livejournal.com/img/btn_sharethis.gif"  /></a> <script type="text/javascript">
            var stLink = jQuery('a:last')[0];
            stLink.href = 'javascript:void(0)';
            SHARETHIS_post = SHARETHIS.addEntry({url:'http://darxus.livejournal.com/244084.html', title: 'Upgrading Ubuntu from Hardy to Intrepid completely broke my X config with my nVidia GeForce FX 5500'}, {button: false});
            SHARETHIS_post.attachButton(stLink);
            SHARETHIS_ary.push(SHARETHIS_post);
            </script>       <a href="http://www.livejournal.com/go.bml?journal=darxus&amp;itemid=244084&amp;dir=next"><img border='0' width="24" height="24" alt="Next Entry" title="Next Entry" src="http://l-stat.livejournal.com/img/btn_next.gif"  /></a></div>
<ul class="entrycmdlinks"><li><a href="http://darxus.livejournal.com/244084.html">3 comments</a></li><li><a onclick="return QuickReply.reply('topcomment',0,'')" href="http://darxus.livejournal.com/244084.html?mode=reply">Leave a comment</a></li></ul>
<div  id="ljqrttopcomment" style="display: none;"></div>

</div>
</div><ul class="comments">
<li><div class="entry" id="ljcmt1132404"><div class="entryheader">
<h3 class="entrysubject"></h3><div class="entryposter"><span class='ljuser with-alias-value ljuser-name_feng_huang' lj:user='feng_huang' style='white-space: nowrap;'><a href='http://feng-huang.livejournal.com/profile'><img src='http://l-stat.livejournal.com/img/userinfo.gif' alt='[info]' width='17' height='17' style='vertical-align: bottom; border: 0; padding-right: 1px;' /></a><a href='http://feng-huang.livejournal.com/'><b>feng_huang</b></a></span></div><div class="entrytimestamp"><span class="entrytimestampdate"><span title="28 minutes after journal entry, 04:44 pm (feng_huang&#39;s time)">8/3/09 11:44 pm (UTC)</span></span></div><div class="entrylinkbarpre">              </div>
<div class="entryuserpic"><img src="http://l-userpic.livejournal.com/53648349/1206907" title="" alt=""height="100" width="100"  /></div></div>

<div class="entrycontent">Interestingly enough, something similar happened to me.  When I upgraded my
LinuxMint (basically Ubuntu + more shiny + the proprietary stuff, like
Flash, that everybody installs anyway) installation from v6 "Felicia" to v7
"Gloria" (in Ubuntu terms, from Intrepid to Jaunty), X broke for me, too.

<p>I fixed mine in a similar way.  After backing up my xorg.conf, I changed
the "nvidia" driver to the "nv" driver and then used the tool to switch
back to the other driver once I could start X.
</div>

<div class="entryfooter">


<div class="entrylinkbarpost">              </div>
<ul class="entrycmdlinks">
<li>
<a onclick="return QuickReply.reply('1132404',4423,'')" href="http://darxus.livejournal.com/244084.html?replyto=1132404">Reply</a></li><li><a href="http://darxus.livejournal.com/244084.html?thread=1132404#t1132404">Thread</a></li>
</ul>
<div class="quickreply" id="ljqrt1132404" style="display: none;"></div>

</div>
</div><ul class="comments">
<li><div class="entry" id="ljcmt1132660"><div class="entryheader">
<h3 class="entrysubject"></h3><div class="entryposter"><span class='ljuser with-alias-value ljuser-name_feng_huang' lj:user='feng_huang' style='white-space: nowrap;'><a href='http://feng-huang.livejournal.com/profile'><img src='http://l-stat.livejournal.com/img/userinfo.gif' alt='[info]' width='17' height='17' style='vertical-align: bottom; border: 0; padding-right: 1px;' /></a><a href='http://feng-huang.livejournal.com/'><b>feng_huang</b></a></span></div><div class="entrytimestamp"><span class="entrytimestampdate"><span title="30 minutes after journal entry, 04:45 pm (feng_huang&#39;s time)">8/3/09 11:45 pm (UTC)</span></span></div><div class="entrylinkbarpre">              </div>
<div class="entryuserpic"><img src="http://l-userpic.livejournal.com/53648349/1206907" title="" alt=""height="100" width="100"  /></div></div>

<div class="entrycontent">Also, FWIW, I've found the proprietary drivers to be decent.  When you say "winking off", you're not referring to power-saving/DPMS mode, are you?
</div>

<div class="entryfooter">


<div class="entrylinkbarpost">              </div>
<ul class="entrycmdlinks">
<li>
<a onclick="return QuickReply.reply('1132660',4424,'')" href="http://darxus.livejournal.com/244084.html?replyto=1132660">Reply</a></li><li><a href="http://darxus.livejournal.com/244084.html?thread=1132404#t1132404">Parent</a></li>
<li><a href="http://darxus.livejournal.com/244084.html?thread=1132660#t1132660">Thread</a></li>
</ul>
<div class="quickreply" id="ljqrt1132660" style="display: none;"></div>

</div>
</div><ul class="comments">
<li><div class="entry" id="ljcmt1132916"><div class="entryheader">
<h3 class="entrysubject"></h3><div class="entryposter"><span class='ljuser with-alias-value ljuser-name_darxus' lj:user='darxus' style='white-space: nowrap;'><a href='http://darxus.livejournal.com/profile'><img src='http://l-stat.livejournal.com/img/userinfo.gif' alt='[info]' width='17' height='17' style='vertical-align: bottom; border: 0; padding-right: 1px;' /></a><a href='http://darxus.livejournal.com/'><b>darxus</b></a></span></div><div class="entrytimestamp"><span class="entrytimestampdate"><span title="1 hours after journal entry, 8/3/09 08:29 pm (darxus&#39;s time)">8/4/09 12:29 am (UTC)</span></span></div><div class="entrylinkbarpre">              </div>
<div class="entryuserpic"><img src="http://l-userpic.livejournal.com/93571119/874250" title="" alt=""height="100" width="100"  /></div></div>

<div class="entrycontent">Every minute or two the entire display would go black for roughly a second.</div>

<div class="entryfooter">


<div class="entrylinkbarpost">              </div>
<ul class="entrycmdlinks">
<li>
<a onclick="return QuickReply.reply('1132916',4425,'')" href="http://darxus.livejournal.com/244084.html?replyto=1132916">Reply</a></li><li><a href="http://darxus.livejournal.com/244084.html?thread=1132660#t1132660">Parent</a></li>
<li><a href="http://darxus.livejournal.com/244084.html?thread=1132916#t1132916">Thread</a></li>
</ul>
<div class="quickreply" id="ljqrt1132916" style="display: none;"></div>

</div>
</div></li>
</ul></li>
</ul></li>
</ul>
</div>



<div id="server_sig">Powered by <a href="http://www.livejournal.com/">LiveJournal.com</a></div></div>

</div>
</div>

<div id='hello-world' style='text-align: left; font-size:0; line-height:0; height:0; overflow:hidden;'>
<script type="text/javascript"> var DR_id = 1111; </script>
<script src="http://l-stat.livejournal.com/js/pagestats/DR_v4u3.js" type="text/javascript"></script>
    </div></body>
</html>